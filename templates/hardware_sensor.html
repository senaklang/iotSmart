{% extends "base.html" %} 
{% block title %}ข้อมูลเซ็นเซอร์เรียลไทม์ | IoT
Monitoring{% endblock %} 

{% block script_extra %}
<link
  rel="stylesheet"
  href="{{ url_for('static', filename='css/style.css') }}"
  href="{{ url_for('static', filename='css/hardware_sensor.css') }}"
/>
<script src="{{ url_for('static', filename='js/hardware_sensor.js') }}"></script>

{% endblock %} 

{% block content %}
<div class="container">
  <h1><i class="fas fa-microchip"></i> ข้อมูลเซ็นเซอร์เรียลไทม์</h1>
  <div class="refresh-info">
    <i class="fas fa-clock"></i> อัปเดตอัตโนมัติในอีก
    <span class="countdown" id="countdown">60</span> วินาที
  </div>

  <div class="last-updated" id="lastUpdated">
    <i class="fas fa-sync-alt"></i> อัปเดตล่าสุด: กำลังโหลด...
  </div>

  {% if data %}
  <div class="sensor-grid">
    <div class="sensor-card">
      <div class="sensor-icon">
        <i class="fas fa-thermometer-half"></i>
      </div>
      <div class="sensor-title">อุณหภูมิ</div>
      <div class="sensor-value">
        {{ data['Temp'] }}<span class="sensor-unit">°C</span>
      </div>
    </div>

    <div class="sensor-card">
      <div class="sensor-icon">
        <i class="fas fa-tint"></i>
      </div>
      <div class="sensor-title">ความชื้น</div>
      <div class="sensor-value">
        {{ data['Humidity'] }}<span class="sensor-unit">%</span>
      </div>
    </div>

    <div class="sensor-card">
      <div class="sensor-icon">
        <i class="fas fa-flask"></i>
      </div>
      <div class="sensor-title">ค่า TDS</div>
      <div class="sensor-value">
        {{ data['TDS'] }}<span class="sensor-unit">ppm</span>
      </div>
    </div>

    <div class="sensor-card">
      <div class="sensor-icon">
        <i class="fas fa-vial"></i>
      </div>
      <div class="sensor-title">ค่า pH</div>
      <div class="sensor-value">{{ data['PH'] }}</div>
    </div>
  </div>
  {% else %}
  <div class="no-data">
    <i
      class="fas fa-exclamation-triangle warning-icon"
    ></i>
    <p>ไม่พบข้อมูลจากเซ็นเซอร์</p>
  </div>
  {% endif %}

  <div class="action-buttons">
    <a href="/" class="btn btn-outline">
      <i class="fas fa-arrow-left"></i> กลับหน้าแรก
    </a>

    <a href="/sensor_history" class="btn btn-outline">
      <i class="fas fa-history"></i> ดูประวัติ
    </a>
    <a href="/hardware/sensor_charts" class="btn btn-outline">
      <i class="fas fa-paragraph"></i> ดูกราฟ
    </a>

    <button onclick="manualRefresh()" class="btn btn-primary">
      <i class="fas fa-sync-alt"></i> รีเฟรชข้อมูล
    </button>
  </div>

  <!--controller hardware_sensor -->

</div>

{% endblock %}
